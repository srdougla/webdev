<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Pet</title>
</head>
<body>
    <header class="navbar">
        <div class="logo-section">
            <img src="images/pawprint.jpg" alt="Logo" class="logo">
            <h1>My Virtual Pet</h1>
        </div>

        <nav class="menu">
            <a href="index.html">Home</a>
            <a href="shelter.html">Animal Shelter</a>
            <a href="pet.html">My Pet</a>
            <a href="store.html">Pet Store</a>
        </nav>        
    </header>

    <h1 style="text-align: center;" id="petNameHeader">Pet Name here</h1>

    <div class="petContainer">
        <img id="bigPetImg" src="plain" class="mainPetImg">

        <div class="petLevels">
            <p>Happiness Level:<img id="happinessLvl" src="images/lowbattery.png"></p>
            <p>Hunger Level: <img id="hungerLvl" src="images/lowbattery.png"></p>
            <p>Boredom Level: <img id="boredomLvl" src="images/lowbattery.png"></p>
        </div>
    </div>

    <div class="petActions">
        <button class="petAction" onclick="feed()">Feed your pet</button>
        <button class="petAction" onclick="cuddle()">Cuddle your pet</button>
        <button class="petAction" onclick="trick()">Do a trick!</button>
    </div>

    <div id="popup" class="action-popup"></div>
    
    <div class="inventory">
        <p class="invItem">Food:<br><a id="foodAmt">0</a> scoops</p>
        <p class="invItem">Treats:<br><a id="treatAmt">0</a> treats</p>
        <p class="invItem">Toys:<br><a id="toyAmt">0</a> toys</p>
    </div>

    <div class="petInfo">
        <h2>Get to know your pet:</h2>
        <p id="petBlurb">Go out and adopt your pet!</p>
    </div>

    <!-- audio tags for animal noises -->
    <audio id="catSound" src="audio/cat-meow.mp3"></audio>
    <audio id="snakeSound" src="audio/snake-hiss.mp3"></audio>
    <audio id="ferretSound" src="audio/ferret-chirp.mp3"></audio>
    <audio id="turtleSound" src="audio/turtle-squeak.mp3"></audio>


    <script>

        let plain, eating, lovey, sad, tricks;

        // organize pet photos
        const catImages = {
            cPlain: "images/catPlain.png",
            cEating: "images/catEating.png",
            cLovey: "images/catLovey.png",
            cSad: "images/catSad.png",
            cTricks: "images/catTrick.png"
        };
        const turtleImages = {
            tPlain: "images/turtlePlain.png",
            tEating: "images/turtleEating.png",
            tLovey: "images/turtleLovey.png",
            tSad: "images/turtleSad.png",
            tTricks: "images/turtleTrick.png"
        };
        const ferretImages = {
            fPlain: "images/ferretPlain.png",
            fEating: "images/ferretEating.png",
            fLovey: "images/ferretLovey.png",
            fSad: "images/ferretSad.png",
            fTricks: "images/ferretTrick.png"
        };
        const snakeImages = {
            sPlain: "images/snakePlain.png",
            sEating: "images/snakeEating.png",
            sLovey: "images/snakeLovey.png",
            sSad: "images/snakeSad.png",
            sTricks: "images/snakeTrick.png"
        };
        
        // assign informative paragraphs and relevant images based on chosen pet
        let petBlurb = "";
        if (localStorage.getItem("pet") == "Kasper") {
            plain = catImages.cPlain;
            eating = catImages.cEating;
            lovey = catImages.cLovey;
            sad = catImages.cSad;
            tricks = catImages.cTricks;
            
            const petBlurb = `
                <p style="font-size: 1.05rem; line-height: 1.6; color: #333;">
                    <span style="color: #d16ba5; font-weight: bold; text-shadow: 1px 1px 2px #f3c; font-size: 1.2rem;">House cats</span>, 
                    or <span style="color: #3948e6; font-style: italic;">domestic cats</span>, have lived alongside humans for 
                    <span style="color: #009688; text-decoration: underline dotted;">nearly 10,000 years</span>. 
                    Originally domesticated from wild cats in the Near East, they were valued for their 
                    <span style="color: #8e44ad; font-weight: bold;">hunting skills</span> 
                    and ability to keep rodents away from food stores.
                </p>

                <p style="margin-top: 10px; color: #444;">
                    Today, cats are beloved for their 
                    <span style="color: #e67e22; font-weight: bold;">independence</span>, 
                    <span style="color: #2980b9; font-weight: bold;">curiosity</span>, and 
                    <span style="color: #16a085; font-weight: bold;">companionship</span>. 
                    Despite being domesticated, cats still retain many of their wild instincts—like 
                    <span style="text-decoration: underline wavy #e74c3c;">stalking</span>, 
                    <span style="text-decoration: underline wavy #9b59b6;">pouncing</span>, 
                    and “hunting” toys or moving shadows. 
                </p>

                <p style="margin-top: 10px; color: #333;">
                    They also communicate in complex ways: a cat’s <span style="color: #960e3c;">meow</span> is used mainly to talk 
                    to humans, not other cats, and each sound or pitch can signal different needs, such as 
                    <span style="color: #27ae60;">hunger</span>, <span style="color: #c0392b;">playfulness</span>, 
                    or <span style="color: #8e44ad;">affection</span>. 
                </p>

                <p style="margin-top: 10px; color: #2c3e50;">
                    Physically, cats are built for <span style="font-weight: bold; color: #1abc9c;">agility</span> and 
                    <span style="font-weight: bold; color: #3498db;">precision</span>. 
                    Their <span style="color: #d35400;">flexible spines</span>, 
                    powerful back legs, and retractable claws make them expert climbers and hunters. 
                    They can jump up to <span style="font-weight: bold; color: #06520c;">six times</span> their body length in one leap 
                    and land gracefully thanks to a specialized inner ear system that helps them balance.
                </p>

                <p style="margin-top: 10px; color: #555;">
                    Cats also have excellent <span style="color: #9b59b6;">night vision</span>—about 
                    <span style="font-weight: bold; color: #06520c;">six times better</span> than humans—and a strong sense of hearing 
                    that allows them to detect even the faintest rustle of prey. 
                    Interestingly, cats spend up to <span style="font-weight: bold; color: #2980b9;">16 hours a day sleeping</span> 
                    to conserve energy, and when they do wake up, they often engage in 
                    <span style="color: #e67e22;">grooming</span>, which helps regulate body temperature and strengthen social bonds 
                    with other cats or their owners.
                </p>
                `;
                document.querySelector(".petInfo").innerHTML = petBlurb;


        } else if (localStorage.getItem("pet") == "Tucker") {
            plain = turtleImages.tPlain;
            eating = turtleImages.tEating;
            lovey = turtleImages.tLovey;
            sad = turtleImages.tSad;
            tricks = turtleImages.tTricks;

            const petBlurb = `
            <p style="color: #2e2a1f; line-height: 1.7;">
                <strong style="color: #2c5530; text-decoration: underline;">Turtles</strong> are among the 
                oldest creatures on Earth, having existed for more than 
                <span style="color: #8b4513; font-weight: bold;">200 million years</span>—long before mammals 
                or birds. Their most recognizable feature is their 
                <span style="color: #3b3b3b; font-style: italic;">shell</span>, which is actually part of 
                their skeleton. The top part, called the 
                <span style="color: #2e8b57;">carapace</span>, and the bottom, known as the 
                <span style="color: #2e8b57;">plastron</span>, are made of bone and covered in 
                <span style="color: #8b0000; text-decoration: underline dotted;">scutes</span>—hard, protective 
                scales made of keratin (the same material as human fingernails).
            </p>

            <p style="color: #3a2f17;">
                Turtles can’t leave their shells, as their 
                <span style="color: #483c32;">ribcage and spine</span> are fused to it, but they can retract 
                their heads and limbs inside for protection. There are more than 
                <strong style="color: #4b5320;">300 species</strong> of turtles, and they live in a wide range 
                of environments—from <span style="color: #a0522d;">deserts</span> to 
                <span style="color: #1e90ff;">deep oceans</span>. 
                Aquatic turtles, like sea turtles, are powerful swimmers with 
                <span style="color: #0f4c75;">flippers</span>, while land-dwelling tortoises have 
                <span style="color: #704214;">sturdy legs</span> designed for walking.
            </p>

            <p style="color: #2f2f2f;">
                Turtles are <strong style="color: #006400;">cold-blooded</strong>, meaning their body temperature 
                depends on their environment, which is why they often bask in the sun to warm up. Some species, 
                like the <span style="color: #556b2f; font-weight: bold;">painted turtle</span>, can even 
                <em style="color: #8b0000;">survive months without oxygen</em> during winter hibernation by 
                slowing their metabolism to almost zero. Depending on the species, turtles can live for 
                <span style="color: #654321; text-decoration: underline;">decades or even centuries</span>—
                some <span style="color: #4b0082;">giant tortoises</span> have lived more than 
                <strong style="color: #8b4513;">150 years</strong>.
            </p>
            `;

            // Insert the paragraph into your webpage
            document.querySelector(".petInfo").innerHTML = petBlurb;

        } else if (localStorage.getItem("pet") == "Franklin") {
            plain = ferretImages.fPlain;
            eating = ferretImages.fEating;
            lovey = ferretImages.fLovey;
            sad = ferretImages.fSad;
            tricks = ferretImages.fTricks;

            const petBlurb = `
            <p style="line-height: 1.7; color: #2c2c2c;">
                <strong style="color: #6b4226; text-decoration: underline;">Ferrets</strong> are lively, playful members 
                of the weasel family (<span style="color: #4b0082; font-weight: bold;">Mustelidae</span>) and have been 
                domesticated for over <span style="color: #8b0000; font-weight: bold;">2,000 years</span>. They were originally 
                used by humans for <span style="color: #2e8b57; font-style: italic;">hunting</span>—especially to chase 
                <span style="color: #8b4513; text-decoration: underline dotted;">rabbits</span> and rodents out of burrows, 
                a practice called <em style="color: #d35400;">“ferreting”</em>.
                </p>

                <p style="color: #3a2f17; margin-top: 10px;">
                Ferrets have long, <span style="color: #556b2f; font-weight: bold;">flexible bodies</span> and 
                short legs, which make them excellent at navigating <span style="color: #1e90ff;">tight tunnels</span> 
                and hiding spots. They’re known for their <span style="color: #c0392b; font-weight: bold;">mischievous behavior</span>, 
                <span style="color: #2980b9; font-weight: bold;">curiosity</span>, and love of exploration. When excited, 
                they often perform a bouncy, chaotic movement called the 
                <span style="color: #8e44ad; text-decoration: underline;">“weasel war dance”</span>, which is both a display 
                of joy and an invitation to play.
                </p>

                <p style="color: #2f2f2f; margin-top: 10px;">
                Ferrets are <strong style="color: #006400;">crepuscular</strong>, meaning they’re most active during 
                dawn and dusk, and they sleep for up to <span style="color: #f39c12; font-weight: bold;">18 hours a day</span>. 
                They communicate using a variety of vocalizations like 
                <span style="color: #d35400; font-style: italic;">“dooking”</span> (a clucking sound when they’re happy) 
                or <span style="color: #8b0000;">hissing</span> when they’re annoyed.
                </p>

                <p style="color: #3b3b3b; margin-top: 10px;">
                Ferrets also have a habit of <span style="color: #8e44ad; text-decoration: underline;">stealing and hiding objects</span>—
                sometimes shiny items, keys, or small toys—which has earned them a reputation as 
                <span style="color: #c0392b; font-weight: bold;">little thieves</span>. Despite their playful nature, 
                ferrets require plenty of <span style="color: #2e8b57; font-weight: bold;">stimulation, exercise</span>, 
                and <span style="color: #2980b9; font-weight: bold;">social interaction</span> to stay healthy. With proper care, 
                they can live around <span style="color: #654321; font-weight: bold;">6 to 10 years</span> and make 
                affectionate, entertaining pets.
            </p>
            `;

            document.querySelector(".petInfo").innerHTML = petBlurb;

        } else {
            plain = snakeImages.sPlain;
            eating = snakeImages.sEating;
            lovey = snakeImages.sLovey;
            sad = snakeImages.sSad;
            tricks = snakeImages.sTricks;

            petBlurb = `
            <p style="line-height: 1.7; color: #2c2c2c;">
                <strong style="color: #006400; text-decoration: underline;">Snakes</strong> are some of the most diverse 
                and misunderstood creatures on the planet, with over 
                <span style="color: #8b0000; font-weight: bold;">3,000 known species</span> ranging from a few inches 
                to more than <span style="color: #4b0082; font-weight: bold;">30 feet long</span>.
                </p>

                <p style="color: #3a2f17; margin-top: 10px;">
                They are legless reptiles that move using a combination of 
                <span style="color: #2e8b57; font-style: italic;">muscle contractions</span> and specialized 
                <span style="color: #556b2f; text-decoration: underline;">belly scales</span>, allowing them to slither 
                smoothly over various surfaces. Despite lacking eyelids and external ears, snakes have keen senses—especially 
                their ability to detect <span style="color: #8b4513; font-weight: bold;">vibrations</span> and “smell” using 
                their <span style="color: #c0392b; font-style: italic;">tongues</span>.
                </p>

                <p style="color: #2f2f2f; margin-top: 10px;">
                When a snake flicks its tongue, it collects scent particles and transfers them to an organ in the roof of its mouth 
                called the <span style="color: #8e44ad; font-weight: bold; text-decoration: underline;">Jacobson’s organ</span>, 
                helping it locate prey or sense danger. Snakes play an essential role in ecosystems by controlling 
                <span style="color: #d35400; font-weight: bold;">pest populations</span> and serving as both 
                <span style="color: #006400; font-weight: bold;">predators</span> and <span style="color: #006400; font-weight: bold;">prey</span>.
                </p>

                <p style="color: #3b3b3b; margin-top: 10px;">
                Depending on the species, they may hunt through <span style="color: #2e8b57; font-weight: bold;">constriction</span>, 
                like boas and pythons, or by injecting <span style="color: #8b0000; font-weight: bold;">venom</span>, 
                like cobras and vipers. Venomous snakes use their toxins not only to immobilize prey but also to begin digesting it 
                before swallowing. Since snakes don’t chew, they rely on extremely <span style="color: #4b0082; font-style: italic;">flexible jaws</span> 
                to consume animals much larger than their heads, stretching their skin and bones in remarkable ways.
                </p>

                <p style="color: #2f2f2f; margin-top: 10px;">
                Snakes also shed their skin several times a year in a process called 
                <span style="color: #8e44ad; text-decoration: underline;">ecdysis</span>, which helps them grow and remove parasites. 
                Far from being dangerous to humans in most cases, snakes are vital to maintaining 
                <span style="color: #006400; font-weight: bold;">healthy environments</span> and are fascinating examples 
                of <span style="color: #c0392b; font-style: italic;">evolutionary adaptation</span>.
            </p>
            `;

            // Insert the paragraph into your webpage
            document.querySelector(".petInfo").innerHTML = petBlurb;
        
        } 

        // set up inventory amount
        let food = parseInt(localStorage.getItem("food")) || 0;
        let treats = parseInt(localStorage.getItem("treats")) || 0;
        let toys = parseInt(localStorage.getItem("toys")) || 0;
        
        const foodAmt = localStorage.getItem("food") || 0;
        document.getElementById("foodAmt").innerText = foodAmt;
        const treatAmt = localStorage.getItem("treats") || 0;
        document.getElementById("treatAmt").innerText = treatAmt;
        const toyAmt = localStorage.getItem("toys") || 0;
        document.getElementById("toyAmt").innerText = toyAmt;

        let happiness = 0;
        let hunger = 0;
        let boredom = 0;


        const nullMsg = "You don't have a pet yet! Don't worry. Visit the Animal Shelter to adopt one!";
        const petName = localStorage.getItem("pet");
        if (!petName) {
            document.getElementById("petNameHeader").textContent = nullMsg;
            document.getElementById("bigPetImg").src = "images/sadpig.jpg";
        } else {
            document.getElementById("petNameHeader").textContent = petName;
            document.getElementById("bigPetImg").src = sad;
            document.getElementById("petBlurb").innerHTML = petBlurb;
        }

        function feed() {

            if (food > 0) {
                food--;

                // update storred variable
                localStorage.setItem("food", food);
                document.getElementById("foodAmt").innerText = food;

                const petReaction = document.getElementById("bigPetImg");
                petReaction.src = eating;

                const batteryImg = document.getElementById("hungerLvl");
                
                if (hunger < 3) hunger++;

                if (hunger === 1) {
                    batteryImg.src = "images/lowbattery.png";
                } else if (hunger === 2) {
                    batteryImg.src = "images/midbattery.png";
                } else if (hunger === 3) {
                    batteryImg.src = "images/fullbattery.png";
                }
            
            } else {
                // popup to indicate insufficient inventory
                showPopup ("You're out of food. Visit the pet store to buy more!");
            }
        }

        function cuddle() {

            if (treats > 0) {
                treats--;

                // update storred variable
                localStorage.setItem("treats", treats);
                document.getElementById("treatAmt").innerText = treats;

                const petReaction = document.getElementById("bigPetImg");
                petReaction.src = lovey;

                const batteryImg = document.getElementById("happinessLvl");

                if (happiness < 3) happiness++;

                if (happiness === 1) {
                    batteryImg.src = "images/lowbattery.png";
                } else if (happiness === 2) {
                    batteryImg.src = "images/midbattery.png";
                } else if (happiness === 3) {
                    batteryImg.src = "images/fullbattery.png";
                }

            } else {
                //popup to indicate insufficient inventory
                showPopup ("You're out of treats. Visit the pet store to buy more!");

            }
        }

        function trick() {

            if (toys > 0) {
                toys --;

                // update storred variable
                localStorage.setItem("toys", toys);
                document.getElementById("toyAmt").innerText = toys;

                const petReaction = document.getElementById("bigPetImg");
                petReaction.src = tricks;

                // add audio elements
                const soundMap = {
                    'Kasper': 'catSound',
                    'Susan': 'snakeSound',
                    'Franklin': 'ferretSound',
                    'Tucker': 'turtleSound'
                };

                const soundId = soundMap[petName];

                if (soundId) {
                    const audio = document.getElementById(soundId);
                    audio.currentTime = 0; // rewind to start
                    audio.play();
                }

                const batteryImg = document.getElementById("boredomLvl");

                if (boredom < 3) boredom++;

                if (boredom === 1) {
                    batteryImg.src = "images/lowbattery.png";
                } else if (boredom === 2) {
                    batteryImg.src = "images/midbattery.png";
                } else if (boredom === 3) {
                    batteryImg.src = "images/fullbattery.png";
                }
                

            } else {
                // popup to indicate insufficient inventory
                showPopup ("You're out of toys. Visit the pet store to buy more!");

            }
        }

        function showPopup (message) {
            const popup = document.getElementById("popup");
            popup.innerText = message;
            popup.classList.add("show");

            // make it fade away after 3s
            setTimeout(() => {
                popup.classList.remove("show");
            }, 3000);

        }


    </script>
    
    <footer>
        <p style="text-align:center; padding:7%"><em>My Virtual Pet.</em> Est. October 2025 by Shannon Douglas.</p>
    </footer>
</body>
</html>